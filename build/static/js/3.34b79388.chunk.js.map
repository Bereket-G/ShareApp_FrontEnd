{"version":3,"sources":["../node_modules/pdfjs-dist/build sync","../node_modules/@material-ui/icons/ArrowBackIos.js","../node_modules/@material-ui/icons/ArrowForwardIos.js","views/post/PostView.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","_interopRequireDefault","__webpack_require__","Object","defineProperty","value","default","_react","_default","createElement","Fragment","d","fill","pdfjs","GlobalWorkerOptions","workerSrc","concat","version","PostView","props","_this","_home_samuel_Desktop_Hackathon_ShareApp_ShareApp_FrontEnd_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_samuel_Desktop_Hackathon_ShareApp_ShareApp_FrontEnd_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_samuel_Desktop_Hackathon_ShareApp_ShareApp_FrontEnd_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","onDocumentLoadSuccess","_ref","numPages","setState","getPost","match","params","Api","find","then","response","findRelated","data","response2","topics","post","catch","error","console","log","upVote","postId","ClientSession","getAuth","err","window","location","reload","userId","user","where","JSON","stringify","create","upvoted","downvoted","getVoteCount","deleteUpVote","length","destroy","deleteDownVote","downVote","filter","count","voteCount","map","vote","setVoteStatus","saveToFavorite","topicClicked","topic","changeTitle","history","push","onClick","increasePageNumber","prev","pageNumber","decreasePageNumber","handlePostClick","state","_this2","classes","_this$state","react__WEBPACK_IMPORTED_MODULE_6___default","a","style","alignContent","alignItems","justifyContent","display","marginTop","marginBottom","_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_9___default","className","card","_material_ui_core_CardHeader__WEBPACK_IMPORTED_MODULE_10___default","avatar","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_13___default","aria-label","firstname","action","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_icons_MoreVert__WEBPACK_IMPORTED_MODULE_27___default","title","subheader","moment","createdAt","format","react_pdf__WEBPACK_IMPORTED_MODULE_26__","file","onLoadSuccess","float","paddingRight","_material_ui_icons_ArrowBackIos__WEBPACK_IMPORTED_MODULE_18___default","cursor","_material_ui_icons_ArrowForwardIos__WEBPACK_IMPORTED_MODULE_19___default","_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15___default","component","description","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_24___default","variant","divider","idx","_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_23___default","chip","key","label","name","color","_material_ui_core_CardActions__WEBPACK_IMPORTED_MODULE_12___default","actions","disableActionSpacing","_material_ui_icons_ArrowUpward__WEBPACK_IMPORTED_MODULE_21___default","_material_ui_icons_ArrowDownward__WEBPACK_IMPORTED_MODULE_22___default","_material_ui_icons_Favorite__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_icons_Share__WEBPACK_IMPORTED_MODULE_20___default","classnames","expand","_home_samuel_Desktop_Hackathon_ShareApp_ShareApp_FrontEnd_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","expandOpen","expanded","handleExpandClick","aria-expanded","React","Component","withRouter","withStyles","theme","minWidth","maxWidth","media","height","paddingTop","transform","transition","transitions","duration","shortest","marginLeft","breakpoints","up","marginRight","backgroundColor","red","spacing","unit"],"mappings":"2EAAA,SAAAA,EAAAC,GACA,IAAAC,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEAF,EAAAK,KAAA,WAAuC,UACvCL,EAAAM,QAAAN,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,0ICNA,IAAAC,EAA6BC,EAAQ,IAErCC,OAAAC,eAAAL,EAAA,cACAM,OAAA,IAEAN,EAAAO,aAAA,EAEA,IAAAC,EAAAN,EAAoCC,EAAQ,IAI5CM,GAAA,EAFAP,EAA4CC,EAAQ,KAEpDI,SAAAC,EAAAD,QAAAG,cAAAF,EAAAD,QAAAI,SAAA,KAAAH,EAAAD,QAAAG,cAAA,QACAE,EAAA,wDACCJ,EAAAD,QAAAG,cAAA,QACDG,KAAA,OACAD,EAAA,mBACC,gBAEDZ,EAAAO,QAAAE,oCClBA,IAAAP,EAA6BC,EAAQ,IAErCC,OAAAC,eAAAL,EAAA,cACAM,OAAA,IAEAN,EAAAO,aAAA,EAEA,IAAAC,EAAAN,EAAoCC,EAAQ,IAI5CM,GAAA,EAFAP,EAA4CC,EAAQ,KAEpDI,SAAAC,EAAAD,QAAAG,cAAAF,EAAAD,QAAAI,SAAA,KAAAH,EAAAD,QAAAG,cAAA,QACAE,EAAA,mDACCJ,EAAAD,QAAAG,cAAA,QACDG,KAAA,OACAD,EAAA,mBACC,mBAEDZ,EAAAO,QAAAE,0eCaAK,QAAMC,oBAAoBC,UAA1B,2CAAAC,OACEH,QAAMI,QADR,kBAIA,IAsCMC,eACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAjB,OAAAkB,EAAA,EAAAlB,CAAAmB,KAAAJ,IACjBE,EAAAjB,OAAAoB,EAAA,EAAApB,CAAAmB,KAAAnB,OAAAqB,EAAA,EAAArB,CAAAe,GAAAO,KAAAH,KAAMH,KAURO,sBAAwB,SAAAC,GAAkB,IAAfC,EAAeD,EAAfC,SACzBR,EAAKS,SAAS,CAAED,cAZCR,EAqBnBU,QAAU,WACR,IAAI9B,EAAKoB,EAAKD,MAAMY,MAAMC,OAAOhC,GACjCiC,IAAIC,KAAK,QAASlC,EAAlB,6BACGmC,KAAK,SAAAC,GACJH,IAAII,YAAY,QAAS,SAAUD,EAASE,KAAKtC,IAAImC,KAAK,SAAAI,GACxDH,EAASE,KAAKE,OAASD,EAAUD,KACjClB,EAAKS,SAAS,CAAEY,KAAML,EAASE,WAGlCI,MAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MA9BbvB,EAiCnB0B,OAAS,WACP,IAAIR,EAAO,CAAES,OAAQ3B,EAAKD,MAAMY,MAAMC,OAAOhC,IAC7CgD,IAAcC,QAAQ,SAACC,EAAK7C,GAC1B,IAAKA,EAAO,OAAO8C,OAAOC,SAASC,SACnCf,EAAKgB,OAASjD,EAAMkD,KAAKvD,KAE3B,IAAIwD,EAAK,SAAAxC,OAAYyC,KAAKC,UAAUpB,IACpCA,EAAKQ,QAAS,EACdb,IAAI0B,OAAO,wBAAyBrB,EAAMkB,GACvCrB,KAAK,SAAAC,GACJhB,EAAKS,SAAS,CAAE+B,SAAS,EAAMC,WAAW,IAC1CzC,EAAK0C,iBAGNpB,MAAM,SAAAC,GACLvB,EAAK0C,kBAhDQ1C,EAoDnB2C,aAAe,WACb,IAAIzB,EAAO,CAAES,OAAQ3B,EAAKD,MAAMY,MAAMC,OAAOhC,IAC7CgD,IAAcC,QAAQ,SAACC,EAAK7C,GAC1B,IAAKA,EAAO,OAAO8C,OAAOC,SAASC,SACnCf,EAAKgB,OAASjD,EAAMkD,KAAKvD,KAE3BsC,EAAKQ,QAAS,EACdb,IAAIC,KAAK,QAAS,KAAlB,mBAAAlB,OAA2CyC,KAAKC,UAAUpB,GAA1D,MACGH,KAAK,SAAAC,GACAA,EAASE,KAAK0B,QAChB/B,IAAIgC,QAAQ,QAAS7B,EAASE,KAAK,GAAGtC,IACnCmC,KAAK,SAAAC,GACJhB,EAAKS,SAAS,CAAE+B,SAAS,EAAOC,WAAW,IAC3CzC,EAAK0C,iBAENpB,MAAM,SAAAC,GACLvB,EAAK0C,mBAIZpB,MAAM,SAAAC,GACLvB,EAAK0C,kBAzEQ1C,EA4EnB8C,eAAiB,WACf,IAAI5B,EAAO,CAAES,OAAQ3B,EAAKD,MAAMY,MAAMC,OAAOhC,IAC7CgD,IAAcC,QAAQ,SAACC,EAAK7C,GAC1B,IAAKA,EAAO,OAAO8C,OAAOC,SAASC,SACnCf,EAAKgB,OAASjD,EAAMkD,KAAKvD,KAE3BsC,EAAKQ,QAAS,EACdb,IAAIC,KAAK,QAAS,KAAlB,mBAAAlB,OAA2CyC,KAAKC,UAAUpB,GAA1D,MACGH,KAAK,SAAAC,GACAA,EAASE,KAAK0B,QAChB/B,IAAIgC,QAAQ,QAAS7B,EAASE,KAAK,GAAGtC,IACnCmC,KAAK,SAAAC,GACJhB,EAAKS,SAAS,CAAEgC,WAAW,EAAOD,SAAS,IAC3CxC,EAAK0C,iBAENpB,MAAM,SAAAC,GACLvB,EAAK0C,mBAIZpB,MAAM,SAAAC,GACLvB,EAAK0C,kBAjGQ1C,EAoGnB+C,SAAW,WACT,IAAI7B,EAAO,CAAES,OAAQ3B,EAAKD,MAAMY,MAAMC,OAAOhC,IAC7CgD,IAAcC,QAAQ,SAACC,EAAK7C,GAC1B,IAAKA,EAAO,OAAO8C,OAAOC,SAASC,SACnCf,EAAKgB,OAASjD,EAAMkD,KAAKvD,KAE3B,IAAIwD,EAAK,SAAAxC,OAAYyC,KAAKC,UAAUpB,IACpCA,EAAKQ,QAAS,EACdb,IAAI0B,OAAO,wBAAyBrB,EAAMkB,GACvCrB,KAAK,SAAAC,GACJhB,EAAKS,SAAS,CAAEgC,WAAW,EAAMD,SAAS,IAC1CxC,EAAK0C,iBAGNpB,MAAM,SAAAC,GACLvB,EAAK0C,kBAnHQ1C,EAwHnB0C,aAAe,WACb,IAAIM,EAAM,8BAAApD,OAAiCI,EAAKD,MAAMY,MAAMC,OAAOhC,GAAzD,OACNqE,EAAQ,EACZpC,IAAIC,KAAK,QAAS,KAAMkC,GAAQjC,KAAK,SAAAC,GAC9BA,EAASE,KAAK0B,QACjB5C,EAAKS,SAAS,CAAEyC,UAAW,IAE7BlC,EAASE,KAAKiC,IAAI,SAAAC,GACZA,EAAK1B,OACPuB,IAEAA,IAEFjD,EAAKS,SAAS,CAAEyC,UAAWD,SArIdjD,EA0InBqD,cAAgB,WACd,IAAI1B,EAAS3B,EAAKD,MAAMY,MAAMC,OAAOhC,GACrCgD,IAAcC,QAAQ,SAACC,EAAK7C,GAC1B,IAAKA,EAAO,OAAO8C,OAAOC,SAASC,SACnC,IAAIC,EAASjD,EAAMkD,KAAKvD,GACpBoE,EAAM,8BAAApD,OAAiCsC,EAAjC,gBAAAtC,OAAsD+B,EAAtD,OACVd,IAAIC,KAAK,QAAS,KAAMkC,GACrBjC,KAAK,SAAAC,GACAA,EAASE,KAAK0B,QAAU5B,EAASE,KAAK,IACxClB,EAAKS,SAAS,CACZ+B,QAASxB,EAASE,KAAK,GAAGQ,OAC1Be,WAAYzB,EAASE,KAAK,GAAGQ,WAIlCJ,MAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,QAzJfvB,EA6JnBsD,eAAiB,aA7JEtD,EAiKnBuD,aAAe,SAAAC,GACbxD,EAAKD,MAAM0D,YAAYD,GACvBxD,EAAKD,MAAM2D,QAAQC,KAAK,IAAMH,GAC9BxD,EAAKD,MAAM6D,QAAQJ,IApKFxD,EAuKnB6D,mBAAqB,WACnB7D,EAAKS,SAAS,SAAAqD,GAAI,MAAK,CACrBC,WAAYD,EAAKC,WAAa,GAAKD,EAAKtD,SAAWsD,EAAKC,WAAa,EAAID,EAAKtD,aAzK/DR,EA4KnBgE,mBAAqB,WACnBhE,EAAKS,SAAS,SAAAqD,GAAI,MAAK,CACrBC,WAAYD,EAAKC,WAAa,GAAK,EAAID,EAAKC,WAAa,EAAI,MA9K9C/D,EAkLnBiE,gBAAkB,aAhLhBjE,EAAKkE,MAAQ,CACX7C,KAAM,GACN6B,UAAW,EACXV,SAAS,EACTC,WAAW,EACXjC,SAAU,KACVuD,WAAY,GARG/D,mFAgBjBE,KAAKQ,UACLR,KAAKwC,eACLxC,KAAKmD,iDAmKE,IAAAc,EAAAjE,KACCkE,EAAYlE,KAAKH,MAAjBqE,QADDC,EAE0BnE,KAAKgE,MAA9BH,EAFDM,EAECN,WAAYvD,EAFb6D,EAEa7D,SAEpB,OACE8D,EAAAC,EAAAlF,cAAA,OACEmF,MAAO,CACLC,aAAc,SACdC,WAAY,SACZC,eAAgB,SAChBC,QAAS,OACTC,UAAW,KACXC,aAAc,OAGhBR,EAAAC,EAAAlF,cAAC0F,EAAAR,EAAD,CAAMS,UAAWZ,EAAQa,MACvBX,EAAAC,EAAAlF,cAAC6F,EAAAX,EAAD,CACEY,OACEb,EAAAC,EAAAlF,cAAC+F,EAAAb,EAAD,CAAQc,aAAW,SAASL,UAAWZ,EAAQe,QAC5CjF,KAAKgE,MAAM7C,MAAQnB,KAAKgE,MAAM7C,KAAKc,KAAOjC,KAAKgE,MAAM7C,KAAKc,KAAKmD,UAAU,GAAK,IAGnFC,OACEjB,EAAAC,EAAAlF,cAACmG,EAAAjB,EAAD,KACED,EAAAC,EAAAlF,cAACoG,EAAAlB,EAAD,OAGJmB,MAAOxF,KAAKgE,MAAM7C,KAAKqE,MAAQxF,KAAKgE,MAAM7C,KAAKqE,MAAQ,GACvDC,UACEC,IAAO1F,KAAKgE,MAAM7C,KAAOnB,KAAKgE,MAAM7C,KAAKwE,UAAY,IAAIC,OAAO,mBAChE,QACC5F,KAAKgE,MAAM7C,MAAQnB,KAAKgE,MAAM7C,KAAKc,KAAOjC,KAAKgE,MAAM7C,KAAKc,KAAKmD,UAAY,MAIhFhB,EAAAC,EAAAlF,cAAC0G,EAAA,SAAD,CACEC,KAAM9F,KAAKgE,MAAM7C,KAAOnB,KAAKgE,MAAM7C,KAAK2E,KAAO,GAC/CC,cAAe/F,KAAKI,uBAEpBgE,EAAAC,EAAAlF,cAAC0G,EAAA,KAAD,CAAMhC,WAAYA,EAAYH,QAAS1D,KAAKH,MAAM6D,WAGpDU,EAAAC,EAAAlF,cAAA,KAAGmF,MAAO,CAAE0B,MAAO,QAASC,aAAc,UACxC7B,EAAAC,EAAAlF,cAAC+G,EAAA7B,EAAD,CACEC,MAAO,CAAE6B,OAAQ,UAAWF,aAAc,OAC1CvC,QAAS1D,KAAK8D,qBAEhBM,EAAAC,EAAAlF,cAACiH,EAAA/B,EAAD,CACEC,MAAO,CAAE6B,OAAQ,UAAWF,aAAc,OAC1CvC,QAAS1D,KAAK2D,qBAEhBS,EAAAC,EAAAlF,cAAA,WATF,QAUQ0E,EAVR,OAUwBvD,GAExB8D,EAAAC,EAAAlF,cAAA,WACAiF,EAAAC,EAAAlF,cAACkH,EAAAhC,EAAD,CAAaC,MAAO,CAAEK,UAAW,SAC/BP,EAAAC,EAAAlF,cAACmH,EAAAjC,EAAD,CAAYkC,UAAU,KACnBvG,KAAKgE,MAAM7C,KAAOnB,KAAKgE,MAAM7C,KAAKqF,YAAc,IAGnDpC,EAAAC,EAAAlF,cAACsH,EAAApC,EAAD,CAASqC,QAAQ,SAAS5B,UAAWZ,EAAQyC,UAC7CvC,EAAAC,EAAAlF,cAAA,WAECa,KAAKgE,MAAM7C,MAAQnB,KAAKgE,MAAM7C,KAAKmC,MAChCtD,KAAKgE,MAAM7C,KAAKmC,MAAML,IAAI,SAAClE,EAAO6H,GAChC,OACExC,EAAAC,EAAAlF,cAAC0H,EAAAxC,EAAD,CACES,UAAWZ,EAAQ4C,KACnBC,IAAKhI,EAAML,GACXsI,MAAOjI,EAAMkI,KACbC,MAAM,UACNR,QAAQ,WACRhD,QAAS,kBAAMO,EAAKZ,aAAatE,EAAMkI,WAI7C,IAEN7C,EAAAC,EAAAlF,cAACgI,EAAA9C,EAAD,CAAaS,UAAWZ,EAAQkD,QAASC,sBAAoB,GAC3DjD,EAAAC,EAAAlF,cAACmG,EAAAjB,EAAD,CAAYc,aAAW,cAAcnF,KAAKgE,MAAMhB,WAChDoB,EAAAC,EAAAlF,cAACmG,EAAAjB,EAAD,CACEc,aAAW,WACXzB,QAAS1D,KAAKgE,MAAM1B,QAAUtC,KAAKyC,aAAezC,KAAKwB,OACvD0F,MAAOlH,KAAKgE,MAAM1B,QAAU,YAAc,WAE1C8B,EAAAC,EAAAlF,cAACmI,EAAAjD,EAAD,OAEFD,EAAAC,EAAAlF,cAACmG,EAAAjB,EAAD,CACEc,aAAW,aACXzB,QAAS1D,KAAKgE,MAAMzB,UAAYvC,KAAK4C,eAAiB5C,KAAK6C,SAC3DqE,MAAOlH,KAAKgE,MAAMzB,UAAY,YAAc,WAE5C6B,EAAAC,EAAAlF,cAACoI,EAAAlD,EAAD,OAEFD,EAAAC,EAAAlF,cAACmG,EAAAjB,EAAD,CAAYc,aAAW,mBAAmBzB,QAAS1D,KAAKoD,gBACtDgB,EAAAC,EAAAlF,cAACqI,EAAAnD,EAAD,OAEFD,EAAAC,EAAAlF,cAACmG,EAAAjB,EAAD,CAAYc,aAAW,SACrBf,EAAAC,EAAAlF,cAACsI,EAAApD,EAAD,OAEFD,EAAAC,EAAAlF,cAACmG,EAAAjB,EAAD,CACES,UAAW4C,IAAWxD,EAAQyD,OAAT9I,OAAA+I,EAAA,EAAA/I,CAAA,GAClBqF,EAAQ2D,WAAa7H,KAAKgE,MAAM8D,WAEnCpE,QAAS1D,KAAK+H,kBACdC,gBAAehI,KAAKgE,MAAM8D,SAC1B3C,aAAW,wBAhSF8C,IAAMC,WA6SdC,sBAAWC,qBAnVX,SAAAC,GAAK,MAAK,CACvBtD,KAAM,CACJuD,SAAU,IACVC,SAAU,KAEZC,MAAO,CACLC,OAAQ,EACRC,WAAY,UAEdtB,QAAS,CACP1C,QAAS,QAEXiD,OAAO9I,OAAA+I,EAAA,EAAA/I,CAAA,CACL8J,UAAW,eACXC,WAAYP,EAAMQ,YAAYxG,OAAO,YAAa,CAChDyG,SAAUT,EAAMQ,YAAYC,SAASC,WAEvCC,WAAY,QACXX,EAAMY,YAAYC,GAAG,MAAQ,CAC5BC,aAAc,IAGlBtB,WAAY,CACVc,UAAW,kBAEb1D,OAAQ,CACNmE,gBAAiBC,IAAI,MAEvBvC,KAAM,CACJqC,YAAad,EAAMiB,QAAQC,MAE7B5C,QAAS,CACPhC,UAAW0D,EAAMiB,QAAQC,KACzB3E,aAAcyD,EAAMiB,QAAQC,KAC5BJ,YAAad,EAAMiB,QAAQC,QAiTLnB,CAAmBxI","file":"static/js/3.34b79388.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 667;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n})), 'ArrowBackIos');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"\n}), _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n})), 'ArrowForwardIos');\n\nexports.default = _default;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport classnames from \"classnames\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\n// import CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\n// import Collapse from '@material-ui/core/Collapse';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport red from \"@material-ui/core/colors/red\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\nimport ArrowForwardIos from \"@material-ui/icons/ArrowForwardIos\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\n// import Badge from '@material-ui/core/Badge';\nimport Chip from \"@material-ui/core/Chip\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport { withRouter } from \"react-router-dom\";\nimport { Document, Page } from \"react-pdf\";\n\n// import ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport moment from \"moment\";\nimport Api from \"../../api\";\nimport ClientSession from \"../../api/client-session\";\nimport { pdfjs } from \"react-pdf\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${\n  pdfjs.version\n}/pdf.worker.js`;\n\nconst styles = theme => ({\n  card: {\n    minWidth: 800,\n    maxWidth: 800\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\" // 16:9\n  },\n  actions: {\n    display: \"flex\"\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest\n    }),\n    marginLeft: \"auto\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginRight: -8\n    }\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\"\n  },\n  avatar: {\n    backgroundColor: red[500]\n  },\n  chip: {\n    marginRight: theme.spacing.unit\n  },\n  divider: {\n    marginTop: theme.spacing.unit,\n    marginBottom: theme.spacing.unit,\n    marginRight: theme.spacing.unit\n  }\n});\n\nclass PostView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: {},\n      voteCount: 0,\n      upvoted: false,\n      downvoted: false,\n      numPages: null,\n      pageNumber: 1\n    };\n  }\n  onDocumentLoadSuccess = ({ numPages }) => {\n    this.setState({ numPages });\n  };\n\n  componentDidMount() {\n    this.getPost();\n    this.getVoteCount();\n    this.setVoteStatus();\n  }\n\n  getPost = () => {\n    let id = this.props.match.params.id;\n    Api.find(\"posts\", id, `filter={\"include\":\"user\"}`)\n      .then(response => {\n        Api.findRelated(\"posts\", \"topics\", response.data.id).then(response2 => {\n          response.data.topics = response2.data;\n          this.setState({ post: response.data });\n        });\n      })\n      .catch(error => console.log(error));\n  };\n\n  upVote = () => {\n    let data = { postId: this.props.match.params.id };\n    ClientSession.getAuth((err, value) => {\n      if (!value) return window.location.reload();\n      data.userId = value.user.id;\n    });\n    let where = `where=${JSON.stringify(data)}`;\n    data.upVote = true;\n    Api.create(\"votes/upsertWithWhere\", data, where)\n      .then(response => {\n        this.setState({ upvoted: true, downvoted: false });\n        this.getVoteCount();\n        // this.props.enqueueSnackbar(\"Upvoted!\", {variant:\"success\"});\n      })\n      .catch(error => {\n        this.getVoteCount();\n        // this.props.enqueueSnackbar(\"Error!\", {variant:\"error\"});\n      });\n  };\n  deleteUpVote = () => {\n    let data = { postId: this.props.match.params.id };\n    ClientSession.getAuth((err, value) => {\n      if (!value) return window.location.reload();\n      data.userId = value.user.id;\n    });\n    data.upVote = true;\n    Api.find(\"votes\", null, `filter={\"where\":${JSON.stringify(data)}}`)\n      .then(response => {\n        if (response.data.length) {\n          Api.destroy(\"votes\", response.data[0].id)\n            .then(response => {\n              this.setState({ upvoted: false, downvoted: false });\n              this.getVoteCount();\n            })\n            .catch(error => {\n              this.getVoteCount();\n            });\n        }\n      })\n      .catch(error => {\n        this.getVoteCount();\n      });\n  };\n  deleteDownVote = () => {\n    let data = { postId: this.props.match.params.id };\n    ClientSession.getAuth((err, value) => {\n      if (!value) return window.location.reload();\n      data.userId = value.user.id;\n    });\n    data.upVote = false;\n    Api.find(\"votes\", null, `filter={\"where\":${JSON.stringify(data)}}`)\n      .then(response => {\n        if (response.data.length) {\n          Api.destroy(\"votes\", response.data[0].id)\n            .then(response => {\n              this.setState({ downvoted: false, upvoted: false });\n              this.getVoteCount();\n            })\n            .catch(error => {\n              this.getVoteCount();\n            });\n        }\n      })\n      .catch(error => {\n        this.getVoteCount();\n      });\n  };\n  downVote = () => {\n    let data = { postId: this.props.match.params.id };\n    ClientSession.getAuth((err, value) => {\n      if (!value) return window.location.reload();\n      data.userId = value.user.id;\n    });\n    let where = `where=${JSON.stringify(data)}`;\n    data.upVote = false;\n    Api.create(\"votes/upsertWithWhere\", data, where)\n      .then(response => {\n        this.setState({ downvoted: true, upvoted: false });\n        this.getVoteCount();\n        // this.props.enqueueSnackbar(\"Downvoted!\", {variant:\"info\"});\n      })\n      .catch(error => {\n        this.getVoteCount();\n        // this.props.enqueueSnackbar(\"Error!\", {variant:\"error\"});\n      });\n  };\n\n  getVoteCount = () => {\n    let filter = `filter={\"where\":{\"postId\":\"${this.props.match.params.id}\"}}`;\n    let count = 0;\n    Api.find(\"votes\", null, filter).then(response => {\n      if (!response.data.length) {\n        this.setState({ voteCount: 0 });\n      }\n      response.data.map(vote => {\n        if (vote.upVote) {\n          count++;\n        } else {\n          count--;\n        }\n        this.setState({ voteCount: count });\n      });\n    });\n  };\n\n  setVoteStatus = () => {\n    let postId = this.props.match.params.id;\n    ClientSession.getAuth((err, value) => {\n      if (!value) return window.location.reload();\n      let userId = value.user.id;\n      let filter = `filter={\"where\":{\"userId\":\"${userId}\",\"postId\":\"${postId}\"}}`;\n      Api.find(\"votes\", null, filter)\n        .then(response => {\n          if (response.data.length && response.data[0]) {\n            this.setState({\n              upvoted: response.data[0].upVote,\n              downvoted: !response.data[0].upVote\n            });\n          }\n        })\n        .catch(error => console.log(error));\n    });\n  };\n\n  saveToFavorite = () => {\n    // save to favorite\n  };\n\n  topicClicked = topic => {\n    this.props.changeTitle(topic);\n    this.props.history.push(\"/\" + topic);\n    this.props.onClick(topic);\n  };\n\n  increasePageNumber = () => {\n    this.setState(prev => ({\n      pageNumber: prev.pageNumber + 1 <= prev.numPages ? prev.pageNumber + 1 : prev.numPages\n    }));\n  };\n  decreasePageNumber = () => {\n    this.setState(prev => ({\n      pageNumber: prev.pageNumber - 1 >= 1 ? prev.pageNumber - 1 : 1\n    }));\n  };\n\n  handlePostClick = () => {\n    //   this.props.history.push(\"/\" + this.props.match.params.topic + )\n  };\n  render() {\n    const { classes } = this.props;\n    const { pageNumber, numPages } = this.state;\n\n    return (\n      <div\n        style={{\n          alignContent: \"center\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          display: \"flex\",\n          marginTop: \"5%\",\n          marginBottom: \"5%\"\n        }}\n      >\n        <Card className={classes.card}>\n          <CardHeader\n            avatar={\n              <Avatar aria-label=\"Recipe\" className={classes.avatar}>\n                {this.state.post && this.state.post.user ? this.state.post.user.firstname[0] : \"\"}\n              </Avatar>\n            }\n            action={\n              <IconButton>\n                <MoreVertIcon />\n              </IconButton>\n            }\n            title={this.state.post.title ? this.state.post.title : \"\"}\n            subheader={\n              moment(this.state.post ? this.state.post.createdAt : \"\").format(\"HH:mm on MMM DD\") +\n              \" by \" +\n              (this.state.post && this.state.post.user ? this.state.post.user.firstname : \"\")\n            }\n          />\n\n          <Document\n            file={this.state.post ? this.state.post.file : \"\"}\n            onLoadSuccess={this.onDocumentLoadSuccess}\n          >\n            <Page pageNumber={pageNumber} onClick={this.props.onClick} />\n          </Document>\n\n          <p style={{ float: \"right\", paddingRight: \"100px\" }}>\n            <ArrowBackIos\n              style={{ cursor: \"pointer\", paddingRight: \"5px\" }}\n              onClick={this.decreasePageNumber}\n            />\n            <ArrowForwardIos\n              style={{ cursor: \"pointer\", paddingRight: \"5px\" }}\n              onClick={this.increasePageNumber}\n            />\n            <br />\n            Page {pageNumber} of {numPages}\n          </p>\n          <br />\n          <CardContent style={{ marginTop: \"10px\" }}>\n            <Typography component=\"p\">\n              {this.state.post ? this.state.post.description : \"\"}\n            </Typography>\n\n            <Divider variant=\"middle\" className={classes.divider} />\n            <br />\n\n            {this.state.post && this.state.post.topic\n              ? this.state.post.topic.map((value, idx) => {\n                  return (\n                    <Chip\n                      className={classes.chip}\n                      key={value.id}\n                      label={value.name}\n                      color=\"primary\"\n                      variant=\"outlined\"\n                      onClick={() => this.topicClicked(value.name)}\n                    />\n                  );\n                })\n              : \"\"}\n          </CardContent>\n          <CardActions className={classes.actions} disableActionSpacing>\n            <IconButton aria-label=\"vote count\">{this.state.voteCount}</IconButton>\n            <IconButton\n              aria-label=\"Up vote \"\n              onClick={this.state.upvoted ? this.deleteUpVote : this.upVote}\n              color={this.state.upvoted ? \"secondary\" : \"inherit\"}\n            >\n              <ArrowUpward />\n            </IconButton>\n            <IconButton\n              aria-label=\"Down vote \"\n              onClick={this.state.downvoted ? this.deleteDownVote : this.downVote}\n              color={this.state.downvoted ? \"secondary\" : \"inherit\"}\n            >\n              <ArrowDownward />\n            </IconButton>\n            <IconButton aria-label=\"Add to favorites\" onClick={this.saveToFavorite}>\n              <FavoriteIcon />\n            </IconButton>\n            <IconButton aria-label=\"Share\">\n              <ShareIcon />\n            </IconButton>\n            <IconButton\n              className={classnames(classes.expand, {\n                [classes.expandOpen]: this.state.expanded\n              })}\n              onClick={this.handleExpandClick}\n              aria-expanded={this.state.expanded}\n              aria-label=\"Show more\"\n            />\n          </CardActions>\n        </Card>\n      </div>\n    );\n  }\n}\n\nPostView.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withRouter(withStyles(styles)(PostView));\n"],"sourceRoot":""}