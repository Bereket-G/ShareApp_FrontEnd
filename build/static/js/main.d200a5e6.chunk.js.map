{"version":3,"sources":["api/client-session.js","api/index.js","views/account/Login.js","views/account/Signup.js","containers/Header.js","views/post/newPost.js","containers/Footer.js","routes.js","containers/index.js","PrivateRoute.js","App.js","serviceWorker.js","index.js"],"names":["ClientSession","authkey","loggedin","cookies","Cookies","storeAuth","value","func","session","err","getAuth","reciverfunc","removeAuth","isLoggedIn","console","error","get","userId","log","id","Date","created","getTime","ttl","getToken","getAccessToken","callback","API_BASE_URL","Api","pluralName","data","filter","arguments","length","undefined","url","Promise","resolve","reject","authData","axios","post","then","response","catch","parentName","childName","method","parentId","childId","whereJSON","FormData","append","JSON","stringify","headers","Content-Type","container","files","progressCallback","config","onUploadProgress","i","file","options","put","login","email","password","_Api$create","regExp","RegExp","create","Object","_home_samuel_Desktop_Hackathon_ShareApp_ShareApp_FrontEnd_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","test","success","message","user","status","logout","window","location","signup","SignIn","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","e","preventDefault","state","username","enqueueSnackbar","variant","history","push","_this2","classes","react_default","a","createElement","className","main","CssBaseline_default","Paper_default","paper","Avatar_default","avatar","LockOutlined_default","Typography_default","component","form","type","FormControl_default","margin","required","fullWidth","InputLabel_default","htmlFor","Input_default","name","onChange","setState","target","autoComplete","autoFocus","FormControlLabel_default","control","Checkbox_default","color","label","Button_default","submit","onClick","React","Component","withSnackbar","withStyles","theme","defineProperty","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","marginTop","flexDirection","alignItems","padding","concat","backgroundColor","palette","secondary","firstname","lastname","primary","Header","getSubscriptions","findRelated","subscribedTopics","handleProfileMenuOpen","event","anchorEl","currentTarget","handleMenuClose","handleMobileMenuClose","handleLogout","handleMobileMenuOpen","mobileMoreAnchorEl","handleDrawer","sidebar","me","toggleDrawer","side","open","search","left","drawerIsOpen","_this$state","isMenuOpen","Boolean","isMobileMenuOpen","renderMenu","Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","onClose","MenuItem_default","renderMobileMenu","IconButton_default","Notifications_default","AccountCircle_default","sideList","list","Divider_default","List_default","ListItemIcon_default","style","Subscriptions_default","map","topic","ListItem_default","button","key","changeTitle","ListItemText_default","root","Drawer_default","tabIndex","role","onKeyDown","AppBar_default","position","Toolbar_default","menuButton","aria-label","icons_Menu_default","title","noWrap","cursor","CastForEducationSharp_default","searchIcon","Search_default","InputBase_default","placeholder","inputRoot","input","inputInput","grow","sectionDesktop","aria-owns","aria-haspopup","sectionMobile","MoreVert_default","withRouter","_title","flexGrow","borderRadius","shape","fade","common","black","&:hover","height","pointerEvents","justifyContent","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","Dragger","Upload","NewPost","handleExpandClick","expanded","getTopics","topics","find","subheader","Grid_default","item","xs","Card_default","card","CardContent_default","TextField_default","textField","onTitle","multiline","rows","descriptionTextField","onDescription","react_select_esm","isMulti","classNamePrefix","onTopics","beforeUpload","onDragger","icon","minWidth","media","actions","expand","transform","duration","shortest","expandOpen","rightIcon","Footer","handleClickOpen","handleClose","handleSubmit","description","fileList","upload","result","createRelated","idx","postId","topicId","reload","onFileChooser","Fragment","Dialog_default","aria-labelledby","maxWidth","DialogTitle_default","DialogContent_default","DialogContentText_default","newPost","DialogActions_default","appBar","Fab_default","top","right","fabButton","Add_default","toolbar","red","text","marginBottom","subHeader","background","bottom","zIndex","Loading","Posts","Loadable","loader","all","__webpack_require__","bind","loading","routes","path","exact","Container","val","containers_Header","Switch","route","Route","render","assign","Redirect","to","containers_Footer","PrivateRoute","checked","_this$props","rest","objectWithoutProperties","pathname","from","App","build","maxSnack","HashRouter","Login","Signup","src_PrivateRoute","hostname","match","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d200a5e6.chunk.js","sourcesContent":["import * as session from 'browser-store';\nimport Cookies from 'universal-cookie';\n\nclass ClientSession {\n  static authkey =  \"auth\";\n  static loggedin = null;\n  static cookies = new Cookies();\n\n  static storeAuth = (value, func) => {\n    session.put(ClientSession.authkey, value, (err) => func(err));\n  };\n\n  static getAuth = (reciverfunc) => {\n    session.get(ClientSession.authkey,(err, value) => reciverfunc(err, value) );\n  };\n\n  static removeAuth = (func) => {\n    session.remove(ClientSession.authkey, (err) => {\n      func(err);\n    });\n  };\n\n  static isLoggedIn = (func) => {\n    ClientSession.getAuth((err, value)=> {\n      if(err){\n        console.error(err);\n        func(false);\n      }else {\n        if(value == null){\n          // check if loggedin from third party\n          if (ClientSession.cookies.get('access_token')) {\n            ClientSession.storeAuth(\n              {\n                'userId': ClientSession.cookies.get('userId', (err) => {console.log(err)}),\n                'id': ClientSession.cookies.get('access_token', (err) => {console.log(err)})\n              }, (err) => {console.log(err)});\n            func(true)\n          } else {\n            ClientSession.removeAuth((err)=> console.log(err));\n            func(false);\n          }\n        } else if ((new Date(value.created)).getTime() + value.ttl >= (new Date().getTime()) ) {\n          func(true);\n        }else {\n          ClientSession.removeAuth((err)=> console.log(err));\n          func(false);\n        }\n      }\n    });\n  };\n\n  static getToken = () => {\n\n    if(ClientSession.isLoggedIn()){\n\n      ClientSession.getAuth((err, value)=> {\n        if(err){\n          console.error(err);\n          return false;\n        }else {\n          return value.id;\n        }\n      })\n    }\n\n  };\n\n  static getAccessToken = (callback) => {\n\n    ClientSession.isLoggedIn(function (isLoggedIn) {\n      if(isLoggedIn){\n        ClientSession.getAuth((err, value)=> {\n          if(err){\n            console.error(err);\n            callback(false, err);\n          }else {\n            callback(true, value)\n          }\n        })\n      }else{\n        callback(false, null);\n      }\n    });\n\n  };\n}\n\nexport default ClientSession;\n","import axios from \"axios\";\nimport ClientSession from \"./client-session.js\";\n\nlet API_BASE_URL = \"https://aterera.herokuapp.com/api/\";\n// let API_BASE_URL = \"http://localhost:5000/api/\";\n\nexport default class Api {\n  static API_BASE_URL = API_BASE_URL;\n\n  static login = (email, password) => {\n    const url = \"users/login\";\n    if (email && password) {\n      const regExp = new RegExp(\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      );\n      return Api.create(url, {\n        [regExp.test(email) ? \"email\" : \"username\"]: email,\n        password: password,\n        ttl: 300000000\n      }).then(\n        response => {\n          ClientSession.storeAuth(response.data, err => {});\n          return {\n            success: true,\n            message: \"Logged in successfuly\",\n            user: response.data\n          };\n        },\n        error => {\n          if (error.response) {\n            if (error.response.status === 401) {\n              return {\n                error: true,\n                message: \"Incorrect username or password\"\n              };\n            }\n            return {\n              error: true,\n              message: \"Oops error occured please. Try Again\"\n            };\n          }\n          return {\n            error: true,\n            message: \"Error: Not connected\"\n          };\n        }\n      );\n    }\n  };\n\n  static logout = () => {\n    ClientSession.getAccessToken(function(isLoggedIn, authData) {\n      if (isLoggedIn && authData != null) {\n        Api.create(\"users/logout\", {})\n          .then(response => {\n            ClientSession.removeAuth(err => {});\n            window.location = \"#/login\";\n          })\n          .catch(err => {\n            ClientSession.removeAuth(err => {});\n            window.location = \"#/login\";\n          });\n      }\n    });\n  };\n\n  static signup = data => {};\n\n  static create(pluralName, data, filter = null) {\n    let url = API_BASE_URL + pluralName;\n    if (filter) url += \"?\" + filter;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          if (filter) url += \"&access_token=\" + authData.id;\n          else url += \"?access_token=\" + authData.id;\n        }\n\n        axios\n          .post(url, data)\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static createRelated(parentName, childName, id, data) {\n    let url = API_BASE_URL + parentName + \"/\" + id + \"/\" + childName;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n        axios\n          .post(url, data)\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static find(pluralName, id, filter) {\n    let url = API_BASE_URL + pluralName;\n\n    if (id) url += \"/\" + id;\n    if (filter) url += \"?\" + filter;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          if (filter) url += \"&access_token=\" + authData.id;\n          else url += \"?access_token=\" + authData.id;\n        }\n\n        axios\n          .get(url)\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static findRelated(parentName, childName, id, filter) {\n    let url = API_BASE_URL + parentName + \"/\" + id + \"/\" + childName;\n    if (filter) url += \"?\" + filter;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          if (filter) url += \"&access_token=\" + authData.id;\n          else url += \"?access_token=\" + authData.id;\n        }\n\n        axios\n          .get(url)\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static update(pluralName, id, data) {\n    let url = API_BASE_URL + pluralName + \"/\" + id;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n\n        axios({\n          method: \"patch\",\n          url: url,\n          data: data\n        })\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static updateRelated(parentName, childName, parentId, childId, data) {\n    let url = API_BASE_URL + parentName + \"/\" + parentId + \"/\" + childName;\n    if (childId) url = url + \"/\" + childId;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n\n        axios({\n          method: \"put\",\n          url: url,\n          data: data\n        })\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static destroy(pluralName, id) {\n    let url = API_BASE_URL + pluralName + \"/\" + id;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n        axios({\n          method: \"delete\",\n          url: url\n        })\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static destroyAll(pluralName, whereJSON) {\n    let url = API_BASE_URL + pluralName;\n\n    let formData = new FormData();\n    formData.append(\"where\", JSON.stringify(whereJSON));\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n\n        axios({\n          method: \"delete\",\n          url: url,\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          data: \"where=\" + JSON.stringify(whereJSON)\n        })\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static upload(container, files, progressCallback) {\n    let url = API_BASE_URL + \"Containers/\" + container + \"/upload\";\n\n    let config = {\n      onUploadProgress: progressCallback,\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    };\n\n    let data = new FormData();\n    for (let i in files) data.append(\"data\", files[i]);\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n\n        axios\n          .post(url, data, config)\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static deleteFile(container, file) {\n    let url = API_BASE_URL + \"Containers/\" + container + \"/files/\" + file;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n\n        axios({\n          method: \"delete\",\n          url: url\n        })\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static deleteFiles(container, files) {\n    let url = API_BASE_URL + \"Containers/deleteFiles\";\n    let options = { container, files };\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n\n        axios\n          .post(url, options)\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n\n  static replace(pluralName, data) {\n    let url = API_BASE_URL + pluralName;\n\n    return new Promise(function(resolve, reject) {\n      ClientSession.getAccessToken(function(isLoggedIn, authData) {\n        if (isLoggedIn && authData != null) {\n          url += \"?access_token=\" + authData.id;\n        }\n        axios\n          .put(url, data)\n          .then(response => resolve(response))\n          .catch(error => reject(error));\n      });\n    });\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withSnackbar } from 'notistack';\n\nimport Api from '../../api';\n\nconst styles = theme => ({\n    main: {\n        width: 'auto',\n        display: 'block', // Fix IE 11 issue.\n        marginLeft: theme.spacing.unit * 3,\n        marginRight: theme.spacing.unit * 3,\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n            width: 400,\n            marginLeft: 'auto',\n            marginRight: 'auto',\n        },\n    },\n    paper: {\n        marginTop: theme.spacing.unit * 8,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n    },\n    avatar: {\n        margin: theme.spacing.unit,\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing.unit,\n    },\n    submit: {\n        marginTop: theme.spacing.unit * 3,\n    },\n});\n\nclass SignIn extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username:\"\",\n            password:\"\"\n        }\n    }\n\n    login = (e) => {\n        e.preventDefault();\n        if(!this.state.username || !this.state.password) return this.props.enqueueSnackbar(\"Please fill out the form completely\", {variant:\"warning\"});\n        Api.login(this.state.username, this.state.password)\n            .then(response => {\n                if(response.error){\n                    return this.props.enqueueSnackbar(response.message, {variant:\"warning\"});\n                }\n                this.props.history.push('/');\n            })\n    };\n\n    render () {\n        const  { classes }  = this.props;\n\n        return (\n            <main className={classes.main}>\n                <CssBaseline />\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <LockIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Sign in\n                    </Typography>\n                    <form className={classes.form} type=\"POST\">\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"email\">Username</InputLabel>\n                            <Input id=\"email\" name=\"username\"  onChange={(e)=>{this.setState({username:e.target.value});}}  autoComplete=\"email\" autoFocus />\n                        </FormControl>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"password\">Password</InputLabel>\n                            <Input name=\"password\" type=\"password\" onChange={(e)=>{this.setState({password:e.target.value});}} id=\"password\" autoComplete=\"current-password\" />\n                        </FormControl>\n                        <FormControlLabel\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\n                            label=\"Remember me\"\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            className={classes.submit}\n                            onClick={this.login}\n                        >\n                            Sign in\n                        </Button>\n                    </form>\n                    <Button\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                            onClick={() => this.props.history.push('register')}\n                        >\n                            Sign Up\n                        </Button>\n                </Paper>\n            </main>\n        );\n    }\n}\n\nSignIn.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withSnackbar(withStyles(styles)(SignIn));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withSnackbar } from 'notistack';\n\nimport Api from '../../api';\n\nconst styles = theme => ({\n    main: {\n        width: 'auto',\n        display: 'block', // Fix IE 11 issue.\n        marginLeft: theme.spacing.unit * 3,\n        marginRight: theme.spacing.unit * 3,\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n            width: 400,\n            marginLeft: 'auto',\n            marginRight: 'auto',\n        },\n    },\n    paper: {\n        marginTop: theme.spacing.unit * 8,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n    },\n    avatar: {\n        margin: theme.spacing.unit,\n        backgroundColor: theme.palette.primary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing.unit,\n    },\n    submit: {\n        marginTop: theme.spacing.unit * 3,\n    },\n});\n\nclass SignIn extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username:\"\",\n            password:\"\",\n            firstname:\"\",\n            lastname:\"\",\n            email:\"\"\n        }\n    }\n\n    signup = (e) => {\n        e.preventDefault();\n        let data = {\n            email: this.state.email,\n            username: this.state.username,\n            password: this.state.password,\n            firstname: this.state.firstname,\n            lastname: this.state.lastname\n        };\n        if((data.username && data.email) && (data.firstname && data.password)){\n            return Api.create('users', data)\n              .then( response => {\n                  this.props.enqueueSnackbar('Signed up Successfully, please Login to continue')\n                  this.props.history.push('/login');\n              })\n              .catch( error => {\n                  this.props.enqueueSnackbar(\"Please check if the email and username are valid\", {variant: \"error\"})\n              })\n          }\n        else {\n            this.props.enqueueSnackbar(\"Please fill all the fields\", {variant: \"warning\"})\n        }\n    };\n\n    render () {\n        const  { classes }  = this.props;\n\n        return (\n            <main className={classes.main}>\n                <CssBaseline />\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <LockIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Sign Up\n                    </Typography>\n                    <form className={classes.form} type=\"POST\">\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\n                            <Input id=\"email\" name=\"email\"  onChange={(e)=>{this.setState({email:e.target.value});}}  autoComplete=\"email\" autoFocus />\n                        </FormControl>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"email\">Username</InputLabel>\n                            <Input id=\"username\" name=\"username\"  onChange={(e)=>{this.setState({username:e.target.value});}}  autoComplete=\"username\" autoFocus />\n                        </FormControl>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"email\">First Name</InputLabel>\n                            <Input id=\"firstname\" name=\"firstname\"  onChange={(e)=>{this.setState({firstname:e.target.value});}}  autoComplete=\"firstname\" autoFocus />\n                        </FormControl>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"email\">Last Name</InputLabel>\n                            <Input id=\"lastname\" name=\"lastname\"  onChange={(e)=>{this.setState({lastname:e.target.value});}}  autoComplete=\"lastname\" autoFocus />\n                        </FormControl>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"password\">Password</InputLabel>\n                            <Input name=\"password\" type=\"password\" onChange={(e)=>{this.setState({password:e.target.value});}} id=\"password\" autoComplete=\"current-password\" />\n                        </FormControl>\n                        <FormControlLabel\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\n                            label=\"Remember me\"\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                            onClick={this.signup}\n                        >\n                            Sign Up\n                        </Button>\n                    </form>\n                </Paper>\n            </main>\n        );\n    }\n}\n\nSignIn.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withSnackbar(withStyles(styles)(SignIn));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CastForEducationSharp from \"@material-ui/icons/CastForEducationSharp\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Subscriptions from \"@material-ui/icons/Subscriptions\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport { withRouter } from \"react-router-dom\";\nimport Api from \"../api\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ClientSession from \"../api/client-session\";\n\nconst styles = theme => ({\n  list: {\n    width: 250\n  },\n  root: {\n    width: \"100%\"\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\"\n    },\n    fontFamily: \"IBM 3270\"\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.black, 0.1),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.black, 0.05)\n    },\n    marginRight: theme.spacing.unit * 2,\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing.unit * 3,\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    width: theme.spacing.unit * 9,\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\",\n    width: \"100%\"\n  },\n  inputInput: {\n    paddingTop: theme.spacing.unit,\n    paddingRight: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit,\n    paddingLeft: theme.spacing.unit * 10,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: 200\n    }\n  },\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\"\n    }\n  },\n  sectionMobile: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\"\n    }\n  }\n});\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      left: false,\n      anchorEl: null,\n      mobileMoreAnchorEl: null,\n      drawerIsOpen: false,\n      subscribedTopics: [],\n      search:\"\"\n    };\n    // this.sidebar = React.createRef();\n  }\n  componentDidMount(){\n    this.getSubscriptions();\n  }\n\n  getSubscriptions = () => {\n    ClientSession.getAuth((err, value) => {\n      Api.findRelated('users','subscriptions',value.user.id)\n          .then( response => {\n            console.log(response);\n            this.setState({subscribedTopics: response.data})\n          })\n    })\n  }\n\n  handleProfileMenuOpen = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleMenuClose = () => {\n    this.setState({ anchorEl: null });\n    this.handleMobileMenuClose();\n  };\n\n  handleLogout = () => {\n    this.handleMenuClose();\n    Api.logout();\n  };\n\n  handleMobileMenuOpen = event => {\n    this.setState({ mobileMoreAnchorEl: event.currentTarget });\n  };\n\n  handleMobileMenuClose = () => {\n    this.setState({ mobileMoreAnchorEl: null });\n  };\n  handleDrawer = () => {\n    // this.setState({});\n    console.log(\"this.sidebar.current.toggleDrawer\");\n    this.sidebar.me();\n  };\n  toggleDrawer = (side, open) => () => {\n    this.setState({\n      [side]: open\n    });\n  };\n  search = (e) => {\n    console.log(e.target.value);\n  }\n  render() {\n    const { anchorEl, mobileMoreAnchorEl } = this.state;\n    const { classes } = this.props;\n    const isMenuOpen = Boolean(anchorEl);\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n    const renderMenu = (\n      <Menu\n        anchorEl={anchorEl}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n        open={isMenuOpen}\n        onClose={this.handleMenuClose}\n      >\n        <MenuItem onClick={this.handleMenuClose}>Profile</MenuItem>\n        <MenuItem onClick={this.handleLogout}>Log out</MenuItem>\n      </Menu>\n    );\n\n    const renderMobileMenu = (\n      <Menu\n        anchorEl={mobileMoreAnchorEl}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n        open={isMobileMenuOpen}\n        onClose={this.handleMobileMenuClose}\n      >\n        {/* <MenuItem>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={4} color=\"secondary\">\n              <MailIcon />\n            </Badge>\n          </IconButton>\n          <p>Messages</p>\n        </MenuItem> */}\n        <MenuItem>\n          <IconButton color=\"inherit\">\n            {/* <Badge badgeContent={11} color=\"secondary\"> */}\n            <NotificationsIcon />\n            {/* </Badge> */}\n          </IconButton>\n          <p>Notifications</p>\n        </MenuItem>\n        <MenuItem onClick={this.handleProfileMenuOpen}>\n          <IconButton color=\"inherit\">\n            <AccountCircle />\n          </IconButton>\n          <p>Profile</p>\n        </MenuItem>\n      </Menu>\n    );\n    const sideList = (\n      <div className={classes.list}>\n        <Divider />\n        <List>\n          <ListItemIcon style={{ padding: \"10px\" }}>\n            <div>\n              <Subscriptions /> &nbsp;&nbsp;&nbsp;&nbsp; Subscriptions\n            </div>\n          </ListItemIcon>\n          {this.state.subscribedTopics.map(topic => (\n          // {[\"ToPIC 1\", \"ToPIC 2\"].map(topicTitle => (\n            <ListItem button key={topic.id} onClick={(e)=> {this.props.changeTitle(topic.name);this.props.history.push(\"/\"+topic.name);}}>\n              <ListItemText primary={topic.name} />\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    );\n    return (\n      <div className={classes.root}>\n        <Drawer open={this.state.left} onClose={this.toggleDrawer(\"left\", false)}>\n          <div\n            tabIndex={0}\n            role=\"button\"\n            onClick={this.toggleDrawer(\"left\", false)}\n            onKeyDown={this.toggleDrawer(\"left\", false)}\n          >\n            {sideList}\n          </div>\n        </Drawer>\n        <AppBar position=\"fixed\" color=\"default\">\n          <Toolbar>\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Open drawer\">\n              <MenuIcon onClick={this.toggleDrawer(\"left\", true)} />\n            </IconButton>\n            <Typography\n              className={classes.title}\n              variant=\"h6\"\n              color=\"inherit\"\n              noWrap\n              onClick={e => this.props.history.push(\"/\")}\n              style={{ cursor: \"pointer\" }}\n            >\n              <CastForEducationSharp style={{ marginTop: \"5px\", marginRight: \"5px\" }} />\n              myEdu\n            </Typography>\n            <span style={{ marginLeft: \"50px\" }} />\n            <Typography className={classes.title} variant=\"subtitle1\" color=\"secondary\" noWrap>\n              {this.props.title}\n            </Typography>\n            <div className={classes.search}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput\n                }}\n                onChange={this.search}\n              />\n            </div>\n            <div className={classes.grow} />\n            <div className={classes.sectionDesktop}>\n              {/* <IconButton color=\"inherit\">\n                <Badge badgeContent={4} color=\"secondary\">\n                  <MailIcon />\n                  </Badge>\n                </IconButton> */}\n              <IconButton color=\"inherit\">\n                {/* <Badge badgeContent={17} color=\"secondary\"> */}\n                <NotificationsIcon />\n                {/* </Badge> */}\n              </IconButton>\n              <IconButton\n                aria-owns={isMenuOpen ? \"material-appbar\" : undefined}\n                aria-haspopup=\"true\"\n                onClick={this.handleProfileMenuOpen}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n            </div>\n            <div className={classes.sectionMobile}>\n              <IconButton aria-haspopup=\"true\" onClick={this.handleMobileMenuOpen} color=\"inherit\">\n                <MoreIcon />\n              </IconButton>\n            </div>\n          </Toolbar>\n        </AppBar>\n        {renderMenu}\n        {renderMobileMenu}\n      </div>\n    );\n  }\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withRouter(withStyles(styles)(Header));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Select from 'react-select';\nimport Api from '../../api'\n\n\nimport { Upload, Icon } from 'antd';\n\nconst Dragger = Upload.Dragger;\n\nconst styles = theme => ({\n    card: {\n        minWidth: 800\n    },\n    media: {\n        height: 0,\n        paddingTop: '56.25%', // 16:9\n    },\n    actions: {\n        display: 'flex',\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n        marginLeft: 'auto',\n        [theme.breakpoints.up('sm')]: {\n            marginRight: -8,\n        },\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n   \n    input: {\n        margin: theme.spacing.unit,\n    },\n    textField: {\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n        width: 200,\n    },\n    descriptionTextField: {\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n        width : \"100%\"\n    },\n    rightIcon: {\n        marginLeft: theme.spacing.unit,\n    },\n});\n\nclass NewPost extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            expanded: false,\n            title: this.props.title,\n            subheader: Date(),\n            topics :  [],\n        };\n\n    }\n    componentDidMount(){\n        this.getTopics();\n    }\n\n    handleExpandClick = () => {\n        this.setState(state => ({ expanded: !state.expanded }));\n    };\n    getTopics = () => {\n        let topics = [];\n        Api.find('topics')\n            .then( response => {\n                    topics = response.data.map(topic =>{\n                            return {label: topic.name, value:topic.id};\n                    })\n                    this.setState({topics});\n            })\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Grid container spacing={24}>\n                <Grid item xs={3}>\n                    <Card className={classes.card}>\n                <CardContent>\n\n\n                    <TextField\n                        id=\"standard-dense\"\n                        label=\"Title\"\n                        className={classes.textField}\n                        style={{width : \"100%\"}}\n                        margin=\"dense\"\n                        onChange={this.props.onTitle}\n                    />\n\n\n                    <br/>\n\n                    <TextField\n                        id=\"outlined-multiline-flexible\"\n                        label=\"Description\"\n                        multiline\n                        rows=\"2\"\n                        // value={this.state.multiline}\n                        // onChange={this.handleChange('multiline')}\n                        className={classes.descriptionTextField}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={this.props.onDescription}\n                    />\n\n                    <br/>\n                    <br/>\n\n                    <Select\n                        isMulti\n                        name=\"colors\"\n                        options={this.state.topics}\n                        className=\"basic-multi-select\"\n                        classNamePrefix=\"select\"\n                        onChange={this.props.onTopics}\n                    />\n\n                    <br/>\n\n                    <Dragger name=\"file\" beforeUpload={this.props.onDragger}>\n                        <p className=\"ant-upload-drag-icon\">\n                            <Icon type=\"inbox\" />\n                        </p>\n                        <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n                        <p className=\"ant-upload-hint\">Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files</p>\n                    </Dragger>\n\n\n                </CardContent>\n            </Card>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nNewPost.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(NewPost);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport red from \"@material-ui/core/colors/red\";\nimport { withSnackbar } from \"notistack\";\nimport { withRouter } from \"react-router-dom\";\n\nimport NewPost from \"../views/post/newPost\";\nimport Api from \"../api\";\nimport ClientSession from \"../api/client-session\";\n\nconst styles = theme => ({\n  avatar: {\n    backgroundColor: red[500],\n    display: \"none\"\n  },\n  text: {\n    paddingTop: theme.spacing.unit * 2,\n    paddingLeft: theme.spacing.unit * 2,\n    paddingRight: theme.spacing.unit * 2\n  },\n  paper: {\n    paddingBottom: 50\n  },\n  list: {\n    marginBottom: theme.spacing.unit * 2\n  },\n  subHeader: {\n    backgroundColor: theme.palette.background.paper\n  },\n  appBar: {\n    top: \"auto\",\n    bottom: 0\n  },\n  toolbar: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  fabButton: {\n    position: \"absolute\",\n    zIndex: 1,\n    top: -30,\n    left: 0,\n    right: 0,\n    margin: \"0 auto\"\n  }\n});\nclass Footer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      title: \"\",\n      description: \"\",\n      topics: [],\n      fileList: []\n    };\n  }\n\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleSubmit = () => {\n    let post = {\n      title: this.state.title,\n      description: this.state.description\n    };\n    if (this.state.fileList.length && this.state.title) {\n      Api.upload(\"posts\", this.state.fileList)\n        .then(response => {\n          var files = response.data.result.files.data;\n          if (files.length) {\n            var file = files[0];\n            post.file = `${Api.API_BASE_URL}Containers/${file.container}/download/${file.name}`;\n            ClientSession.getAuth((err, value) => {\n            \n            Api.createRelated(\"users\",\"posts\", value.user.id, post)\n              .then(response => {\n                this.state.topics.map((topic, idx) => {\n                  if (this.state.topics.length - 1 === idx) {\n                    return Api.create(\"post_topics\", {\n                      postId: response.data.id,\n                      topicId: topic.value\n                    }).then( response => {\n                      window.location.reload()\n                    });\n                  }\n                  return Api.create(\"post_topics\", {\n                    postId: response.data.id,\n                    topicId: topic.value\n                  });\n                });\n                this.props.enqueueSnackbar(\"Post Submitted Successfully\", { variant: \"success\" });\n              })\n              .catch(error => {\n                console.log(error);\n                this.props.enqueueSnackbar(\"Sorry! upload failed\", { variant: \"error\" });\n              });\n            });\n          }\n        })\n        .catch(error => {\n          console.log(error);\n          this.props.enqueueSnackbar(\"Sorry! upload failed\", { variant: \"error\" });\n        });\n    }\n    this.setState({ open: false });\n  };\n\n  onFileChooser = files => {\n    this.setState({ fileList: [files] });\n    return false;\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <React.Fragment>\n        <Dialog\n          open={this.state.open}\n          onClose={this.handleClose}\n          aria-labelledby=\"form-dialog-title\"\n          maxWidth=\"xl\"\n        >\n          <DialogTitle id=\"form-dialog-title\">\n            <Avatar aria-label=\"Plus\" className={classes.avatar}>\n              + {/* //TODO: USER AVATAR*/}\n            </Avatar>{\" \"}\n            New Post\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              <NewPost\n                onTitle={e => this.setState({ title: e.target.value })}\n                onDescription={e => this.setState({ description: e.target.value })}\n                onTopics={e => this.setState({ topics: e })}\n                onDragger={this.onFileChooser}\n              />\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={this.handleSubmit} color=\"primary\">\n              Post\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <CssBaseline />\n        <AppBar position=\"fixed\" color=\"default\" className={classes.appBar}>\n          <Fab\n            style={{\n              top: \"-130%\",\n              right: \"-50%\"\n            }}\n            color=\"secondary\"\n            aria-label=\"Add\"\n            className={classes.fabButton}\n            onClick={this.handleClickOpen}\n          >\n            <AddIcon />\n          </Fab>\n          <Toolbar className={classes.toolbar}>©myEdu 2018</Toolbar>\n        </AppBar>\n      </React.Fragment>\n    );\n  }\n}\n\nFooter.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withRouter(withSnackbar(withStyles(styles)(Footer)));\n","import React from 'react';\nimport Loadable from 'react-loadable'\n// import Container from './containers';\n\nfunction Loading() {\n    return <div>Loading...</div>;\n}\n\nconst Posts = Loadable({\n  loader: () => import('./views/post/Posts'),\n  loading: Loading,\n});\n\nconst PostView = Loadable({\n    loader: () => import('./views/post/PostView'),\n    loading: Loading,\n  });\n  \n\n// https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config\nconst routes = [\n  { path: '/', exact: true, name: 'Home', component: Posts },\n  { path: '/:topic', exact: true, name: 'Home', component: Posts },\n  { path: '/:topic/:id', exact: true, name: 'Home', component: PostView },\n  \n\n]\nexport default routes;\n","import React, { Component } from 'react'\nimport {Redirect, Route, Switch} from 'react-router-dom';\nimport { withSnackbar } from 'notistack';\n\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport routes from \"../routes\"\n\nclass Container extends Component {\n  state = {\n    title: \"Home\"\n  }\n  changeTitle = (val) => {\n    this.setState({title: val});\n  }\n  render() {\n    return (\n      <div style={{backgroundColor:\"#dae0e6\"}}>\n          <Header title={this.state.title} changeTitle={this.changeTitle}/>\n            <Switch>\n            {routes.map((route, idx) => {\n                    return route.component ? <Route key={idx} path={route.path} exact={route.exact} name={route.name} render={props => (\n                        <route.component {...props} enqueueSnackbar={this.props.enqueueSnackbar} changeTitle={this.changeTitle}/>\n                      )} />\n                      : (null);\n                  },\n                )}\n                <Redirect to=\"/\" />\n            </Switch>\n         <Footer />\n      </div>\n    )\n  }\n};\n\n\nexport default withSnackbar(Container)\n","import React, { Component } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport ClientSession from './api/client-session.js';\n\n\nclass PrivateRoute extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoggedIn: false,\n            checked: ''\n        }\n    }\n\n    componentWillMount() {\n        ClientSession.isLoggedIn(isLoggedIn => {\n            this.setState({\n                isLoggedIn: isLoggedIn,\n                checked: 'yes'\n            }, () => {\n                return 'do nothing';\n            })\n        })\n    }\n\n    render() {\n        const { component: Component, ...rest } = this.props;\n        if (!this.state.checked) {\n            return false\n        }\n        if (this.state.isLoggedIn) {\n            return <Route {...rest }\n            component = { Component }\n            />\n        } else {\n            return <Redirect to = {\n                { pathname: '/login', state: { from: this.props.location } }\n            }\n            />\n        }\n    }\n}\n\nexport default PrivateRoute;","import React, { Component } from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport { SnackbarProvider } from 'notistack';\n\nimport Login from './views/account/Login';\nimport Signup from './views/account/Signup';\nimport Container from './containers';\nimport PrivateRoute from './PrivateRoute';\n\n// import logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <SnackbarProvider maxSnack={1} anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        <HashRouter>\n          <Switch>\n            <Route exact path=\"/login\" name=\"Login Page\" component={Login} />\n            <Route exact path=\"/register\" name=\"Register Page\" component={Signup} />\n            <PrivateRoute path=\"/\" name=\"Home\" component={Container} />\n          </Switch>\n        </HashRouter>\n      </SnackbarProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}